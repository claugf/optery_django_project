{% extends 'base.html' %}

{% block content %}
<div class="row mt-5">
    <div class="col-md-6 m-auto">
        <div class="card card-body">
            <h1 class="text-center mb-3">
                <i class="fas fa-user-plus"></i> Register
            </h1>

            <!-- Messages -->
            {% include 'partials/_messages.html' %}

            <form method="POST" action="">
                {% csrf_token %}
                <div class="form-group">
                    <label for="name">Username</label>
                    {{form.username}}
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    {{form.email}}
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    {{form.password1}}
                </div>
                <div class="form-group">
                    <label for="password2">Confirm Password</label>
                    {{form.password2}}
                </div>
                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </form>
            <p class="lead mt-4">Have An Account? <a href="{% url 'accounts:login' %}">Login</a></p>
        </div>
    </div>
</div>

<script>
    /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
    // We start indexing at one because CSRF_token is considered an input field 
    */

    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder = 'Enter Username..';
    form_fields[2].placeholder = 'Enter Email..';
    form_fields[3].placeholder = 'Enter Password...';
    form_fields[4].placeholder = 'Confirm Password...';


    for (var field in form_fields) {
        form_fields[field].className += ' form-control'
    }
</script>

{% endblock %}